<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paramètres - Travel Admin</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <i class="fas fa-plane-departure"></i>
            <span>Travel Admin</span>
        </div>
        
         <nav class="nav-menu">
            <a href="dashboard.html" class="nav-item">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </a>
            <a href="reservations.html" class="nav-item">
                <i class="fas fa-ticket-alt"></i>
                <span>Réservations</span>
            </a>
            <a href="clients.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>Clients</span>
            </a>
            <a href="vol.html" class="nav-item">
                <i class="fas fa-plane"></i>
                <span>Vols</span>
            </a>
            <a href="paiements.html" class="nav-item">
                <i class="fas fa-money-bill-wave"></i>
                <span>Paiements</span>
            </a>
            <a href="statistiques.html" class="nav-item active">
                <i class="fas fa-chart-bar"></i>
                <span>Statistiques</span>
            </a>
            <a href="parametres.html" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Paramètres</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <a href="#" class="nav-item" onclick="confirmLogout(event)">
                <i class="fas fa-sign-out-alt"></i>
                <span>Déconnexion</span>
            </a>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Bar -->
        <div class="topbar">
            <div class="topbar-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1>Paramètres</h1>
            </div>
            
            <div class="topbar-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Rechercher un paramètre...">
                </div>
                
                <div class="notifications">
                    <i class="fas fa-bell"></i>
                    <span class="badge">12</span>
                </div>
                
                <div class="user-profile">
                    <img src="https://ui-avatars.com/api/?name=Admin+User&background=667eea&color=fff" alt="User">
                    <div class="user-info">
                        <span class="user-name">Admin User</span>
                        <span class="user-role">Administrateur</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Settings Content -->
        <div class="dashboard-content">
            <!-- Settings Navigation -->
            <div class="settings-nav mb-4">
                <button class="settings-nav-btn active" onclick="showSection('account')">
                    <i class="fas fa-user"></i>
                    <span>Mon Compte</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('notifications')">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('company')">
                    <i class="fas fa-building"></i>
                    <span>Entreprise</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('system')">
                    <i class="fas fa-desktop"></i>
                    <span>Système</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('security')">
                    <i class="fas fa-shield-alt"></i>
                    <span>Sécurité</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('integrations')">
                    <i class="fas fa-plug"></i>
                    <span>Intégrations</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('billing')">
                    <i class="fas fa-credit-card"></i>
                    <span>Facturation</span>
                </button>
                <button class="settings-nav-btn" onclick="showSection('preferences')">
                    <i class="fas fa-sliders-h"></i>
                    <span>Préférences</span>
                </button>
            </div>
            
            <!-- Section Mon Compte -->
            <div class="settings-section active" id="section-account">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-user me-2"></i>Informations Personnelles</h3>
                    </div>
                    <div class="settings-body">
                        <div class="profile-photo-section mb-4">
                            <div class="profile-photo-container">
                                <img src="https://ui-avatars.com/api/?name=Admin+User&background=667eea&color=fff&size=150" alt="Profile" id="profilePhoto">
                                <button class="btn-change-photo" onclick="openPhotoUpload()">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                            <div class="profile-photo-info">
                                <h5>Photo de profil</h5>
                                <p class="text-muted">JPG, PNG ou GIF. Max 2 MB.</p>
                                <button class="btn btn-outline-primary btn-sm" onclick="openPhotoUpload()">
                                    <i class="fas fa-upload me-2"></i>Télécharger
                                </button>
                                <button class="btn btn-outline-danger btn-sm" onclick="removePhoto()">
                                    <i class="fas fa-trash me-2"></i>Supprimer
                                </button>
                            </div>
                        </div>
                        
                        <form id="accountForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Prénom</label>
                                    <input type="text" class="form-control" id="firstName" value="Admin">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Nom</label>
                                    <input type="text" class="form-control" id="lastName" value="User">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Email</label>
                                    <input type="email" class="form-control" id="email" value="admin@traveladmin.com">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Téléphone</label>
                                    <input type="tel" class="form-control" id="phone" value="+33 6 12 34 56 78">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Poste</label>
                                    <input type="text" class="form-control" id="jobTitle" value="Administrateur Système">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Département</label>
                                    <select class="form-select" id="department">
                                        <option value="admin" selected>Administration</option>
                                        <option value="sales">Ventes</option>
                                        <option value="support">Support</option>
                                        <option value="marketing">Marketing</option>
                                    </select>
                                </div>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="saveAccountInfo()">
                                <i class="fas fa-save me-2"></i>Enregistrer les Modifications
                            </button>
                        </form>
                    </div>
                </div>
                
                <div class="settings-card mt-4">
                    <div class="settings-header">
                        <h3><i class="fas fa-lock me-2"></i>Changer le Mot de Passe</h3>
                    </div>
                    <div class="settings-body">
                        <form id="passwordForm">
                            <div class="mb-3">
                                <label class="form-label fw-bold">Mot de passe actuel</label>
                                <input type="password" class="form-control" id="currentPassword">
                            </div>
                            <div class="mb-3">
                                <label class="form-label fw-bold">Nouveau mot de passe</label>
                                <input type="password" class="form-control" id="newPassword">
                                <small class="text-muted">Minimum 8 caractères, 1 majuscule, 1 chiffre</small>
                            </div>
                            <div class="mb-3">
                                <label class="form-label fw-bold">Confirmer le nouveau mot de passe</label>
                                <input type="password" class="form-control" id="confirmPassword">
                            </div>
                            <button type="button" class="btn btn-warning" onclick="changePassword()">
                                <i class="fas fa-key me-2"></i>Changer le Mot de Passe
                            </button>
                        </form>
                    </div>
                </div>
                
                <div class="settings-card mt-4">
                    <div class="settings-header">
                        <h3><i class="fas fa-shield-alt me-2"></i>Authentification à Deux Facteurs (2FA)</h3>
                    </div>
                    <div class="settings-body">
                        <div class="two-factor-status">
                            <div class="status-indicator">
                                <i class="fas fa-times-circle text-danger"></i>
                                <span class="ms-2">Désactivée</span>
                            </div>
                            <p class="text-muted mt-2">Ajoutez une couche de sécurité supplémentaire à votre compte.</p>
                            <button class="btn btn-success" onclick="enable2FA()">
                                <i class="fas fa-shield-alt me-2"></i>Activer 2FA
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section Notifications -->
            <div class="settings-section" id="section-notifications">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-bell me-2"></i>Préférences de Notifications</h3>
                    </div>
                    <div class="settings-body">
                        <div class="notification-item">
                            <div class="notification-info">
                                <h6>Notifications Email</h6>
                                <p class="text-muted">Recevoir des notifications par email</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked onchange="toggleNotification('email')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-info">
                                <h6>Notifications Push</h6>
                                <p class="text-muted">Recevoir des notifications push dans le navigateur</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" onchange="toggleNotification('push')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-info">
                                <h6>Nouvelles Réservations</h6>
                                <p class="text-muted">Être notifié des nouvelles réservations</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked onchange="toggleNotification('bookings')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-info">
                                <h6>Paiements</h6>
                                <p class="text-muted">Alertes sur les paiements reçus et échoués</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked onchange="toggleNotification('payments')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-info">
                                <h6>Annulations</h6>
                                <p class="text-muted">Être informé des annulations de vols</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked onchange="toggleNotification('cancellations')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-info">
                                <h6>Rapports Hebdomadaires</h6>
                                <p class="text-muted">Recevoir un rapport chaque lundi</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" onchange="toggleNotification('reports')">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <button class="btn btn-primary mt-3" onclick="saveNotificationSettings()">
                            <i class="fas fa-save me-2"></i>Enregistrer les Préférences
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Section Entreprise -->
            <div class="settings-section" id="section-company">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-building me-2"></i>Informations Entreprise</h3>
                    </div>
                    <div class="settings-body">
                        <form id="companyForm">
                            <div class="mb-4">
                                <label class="form-label fw-bold">Logo de l'entreprise</label>
                                <div class="company-logo-section">
                                    <div class="logo-preview">
                                        <i class="fas fa-building" style="font-size: 64px; color: #667eea;"></i>
                                    </div>
                                    <div>
                                        <button class="btn btn-outline-primary btn-sm" onclick="uploadLogo()">
                                            <i class="fas fa-upload me-2"></i>Télécharger Logo
                                        </button>
                                        <p class="text-muted mt-2">PNG ou SVG recommandé. Max 1 MB.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Nom de l'entreprise</label>
                                    <input type="text" class="form-control" value="Travel Admin SAS">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Forme juridique</label>
                                    <select class="form-select">
                                        <option>SAS</option>
                                        <option>SARL</option>
                                        <option>SA</option>
                                        <option>Auto-entrepreneur</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">SIRET</label>
                                    <input type="text" class="form-control" value="123 456 789 00012">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">N° TVA Intracommunautaire</label>
                                    <input type="text" class="form-control" value="FR12345678901">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label fw-bold">Adresse</label>
                                <input type="text" class="form-control" value="123 Avenue des Champs-Élysées">
                            </div>
                            
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label class="form-label fw-bold">Code Postal</label>
                                    <input type="text" class="form-control" value="75008">
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label fw-bold">Ville</label>
                                    <input type="text" class="form-control" value="Paris">
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label class="form-label fw-bold">Pays</label>
                                    <select class="form-select">
                                        <option selected>France</option>
                                        <option>Belgique</option>
                                        <option>Suisse</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Téléphone</label>
                                    <input type="tel" class="form-control" value="+33 1 23 45 67 89">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Email Contact</label>
                                    <input type="email" class="form-control" value="contact@traveladmin.com">
                                </div>
                            </div>
                            
                            <button type="button" class="btn btn-primary" onclick="saveCompanyInfo()">
                                <i class="fas fa-save me-2"></i>Enregistrer
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Section Système -->
            <div class="settings-section" id="section-system">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-desktop me-2"></i>Paramètres Système</h3>
                    </div>
                    <div class="settings-body">
                        <div class="mb-4">
                            <label class="form-label fw-bold">Thème de l'Interface</label>
                            <div class="theme-selector">
                                <div class="theme-option active" onclick="selectTheme('light')">
                                    <i class="fas fa-sun"></i>
                                    <span>Clair</span>
                                </div>
                                <div class="theme-option" onclick="selectTheme('dark')">
                                    <i class="fas fa-moon"></i>
                                    <span>Sombre</span>
                                </div>
                                <div class="theme-option" onclick="selectTheme('auto')">
                                    <i class="fas fa-adjust"></i>
                                    <span>Automatique</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Langue</label>
                                <select class="form-select" onchange="changeLanguage(this.value)">
                                    <option value="fr" selected>Français</option>
                                    <option value="en">English</option>
                                    <option value="es">Español</option>
                                    <option value="de">Deutsch</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Fuseau Horaire</label>
                                <select class="form-select">
                                    <option selected>Europe/Paris (GMT+1)</option>
                                    <option>Europe/London (GMT+0)</option>
                                    <option>America/New_York (GMT-5)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Format Date</label>
                                <select class="form-select">
                                    <option selected>JJ/MM/AAAA</option>
                                    <option>MM/JJ/AAAA</option>
                                    <option>AAAA-MM-JJ</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Devise</label>
                                <select class="form-select">
                                    <option selected>EUR (€)</option>
                                    <option>USD ($)</option>
                                    <option>GBP (£)</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" onclick="saveSystemSettings()">
                            <i class="fas fa-save me-2"></i>Enregistrer
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Section Sécurité -->
            <div class="settings-section" id="section-security">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-shield-alt me-2"></i>Sécurité & Confidentialité</h3>
                    </div>
                    <div class="settings-body">
                        <h6 class="mb-3">Sessions Actives</h6>
                        <div class="sessions-list">
                            <div class="session-item current">
                                <div class="session-icon">
                                    <i class="fas fa-desktop"></i>
                                </div>
                                <div class="session-info">
                                    <h6>Session Actuelle</h6>
                                    <p class="text-muted mb-1">Windows 11 - Chrome 119</p>
                                    <small class="text-success">Paris, France - 192.168.1.1</small>
                                </div>
                                <span class="badge bg-success">Active</span>
                            </div>
                            
                            <div class="session-item">
                                <div class="session-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div class="session-info">
                                    <h6>iPhone 13</h6>
                                    <p class="text-muted mb-1">iOS 17 - Safari</p>
                                    <small class="text-muted">Paris, France - Il y a 2 heures</small>
                                </div>
                                <button class="btn btn-sm btn-outline-danger" onclick="revokeSession('mobile')">
                                    Révoquer
                                </button>
                            </div>
                            
                            <div class="session-item">
                                <div class="session-icon">
                                    <i class="fas fa-tablet-alt"></i>
                                </div>
                                <div class="session-info">
                                    <h6>iPad Pro</h6>
                                    <p class="text-muted mb-1">iPadOS 17 - Safari</p>
                                    <small class="text-muted">Lyon, France - Il y a 1 jour</small>
                                </div>
                                <button class="btn btn-sm btn-outline-danger" onclick="revokeSession('tablet')">
                                    Révoquer
                                </button>
                            </div>
                        </div>
                        
                        <button class="btn btn-danger mt-3" onclick="logoutAllDevices()">
                            <i class="fas fa-sign-out-alt me-2"></i>Déconnecter Tous les Appareils
                        </button>
                        
                        <hr class="my-4">
                        
                        <h6 class="mb-3">Historique des Connexions</h6>
                        <button class="btn btn-outline-primary" onclick="viewLoginHistory()">
                            <i class="fas fa-history me-2"></i>Voir l'Historique Complet
                        </button>
                        
                        <hr class="my-4">
                        
                        <h6 class="mb-3">Données Personnelles (RGPD)</h6>
                        <p class="text-muted">Conformément au RGPD, vous pouvez exporter ou supprimer vos données.</p>
                        <button class="btn btn-outline-info me-2" onclick="exportData()">
                            <i class="fas fa-download me-2"></i>Exporter Mes Données
                        </button>
                        <button class="btn btn-outline-danger" onclick="deleteAccount()">
                            <i class="fas fa-trash me-2"></i>Supprimer Mon Compte
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Section Intégrations -->
            <div class="settings-section" id="section-integrations">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-plug me-2"></i>Intégrations & API</h3>
                    </div>
                    <div class="settings-body">
                        <div class="integration-item">
                            <div class="integration-logo">
                                <i class="fab fa-google" style="color: #4285F4; font-size: 32px;"></i>
                            </div>
                            <div class="integration-info">
                                <h6>Google Workspace</h6>
                                <p class="text-muted">Synchronisation calendrier et contacts</p>
                            </div>
                            <div class="integration-status">
                                <span class="badge bg-success">Connecté</span>
                                <button class="btn btn-sm btn-outline-danger ms-2" onclick="disconnectIntegration('google')">
                                    Déconnecter
                                </button>
                            </div>
                        </div>
                        
                        <div class="integration-item">
                            <div class="integration-logo">
                                <i class="fab fa-stripe" style="color: #635BFF; font-size: 32px;"></i>
                            </div>
                            <div class="integration-info">
                                <h6>Stripe</h6>
                                <p class="text-muted">Traitement des paiements en ligne</p>
                            </div>
                            <div class="integration-status">
                                <span class="badge bg-success">Connecté</span>
                                <button class="btn btn-sm btn-outline-danger ms-2" onclick="disconnectIntegration('stripe')">
                                    Déconnecter
                                </button>
                            </div>
                        </div>
                        
                        <div class="integration-item">
                            <div class="integration-logo">
                                <i class="fab fa-slack" style="color: #4A154B; font-size: 32px;"></i>
                            </div>
                            <div class="integration-info">
                                <h6>Slack</h6>
                                <p class="text-muted">Notifications dans votre espace de travail</p>
                            </div>
                            <div class="integration-status">
                                <span class="badge bg-secondary">Non connecté</span>
                                <button class="btn btn-sm btn-primary ms-2" onclick="connectIntegration('slack')">
                                    Connecter
                                </button>
                            </div>
                        </div>
                        
                        <div class="integration-item">
                            <div class="integration-logo">
                                <i class="fas fa-envelope" style="color: #EA4335; font-size: 32px;"></i>
                            </div>
                            <div class="integration-info">
                                <h6>Mailchimp</h6>
                                <p class="text-muted">Campagnes email marketing</p>
                            </div>
                            <div class="integration-status">
                                <span class="badge bg-secondary">Non connecté</span>
                                <button class="btn btn-sm btn-primary ms-2" onclick="connectIntegration('mailchimp')">
                                    Connecter
                                </button>
                            </div>
                        </div>
                        
                        <hr class="my-4">
                        
                        <h6 class="mb-3">Clés API</h6>
                        <button class="btn btn-primary" onclick="manageAPIKeys()">
                            <i class="fas fa-key me-2"></i>Gérer les Clés API
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Section Facturation -->
            <div class="settings-section" id="section-billing">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-credit-card me-2"></i>Facturation & Abonnement</h3>
                    </div>
                    <div class="settings-body">
                        <div class="current-plan">
                            <div class="plan-badge">
                                <i class="fas fa-crown"></i>
                                <span>Plan Premium</span>
                            </div>
                            <h5>Abonnement Actuel</h5>
                            <div class="plan-price">
                                <span class="price">199€</span>
                                <span class="period">/mois</span>
                            </div>
                            <p class="text-muted">Renouvellement automatique le 1er janvier 2025</p>
                            <button class="btn btn-outline-primary me-2" onclick="changePlan()">
                                <i class="fas fa-exchange-alt me-2"></i>Changer de Plan
                            </button>
                            <button class="btn btn-outline-danger" onclick="cancelSubscription()">
                                <i class="fas fa-times me-2"></i>Annuler l'Abonnement
                            </button>
                        </div>
                        
                        <hr class="my-4">
                        
                        <h6 class="mb-3">Moyens de Paiement</h6>
                        <div class="payment-method">
                            <div class="payment-icon">
                                <i class="fab fa-cc-visa" style="font-size: 32px; color: #1A1F71;"></i>
                            </div>
                            <div class="payment-info">
                                <h6>Visa •••• 4532</h6>
                                <p class="text-muted">Expire 12/2025</p>
                            </div>
                            <span class="badge bg-primary">Par défaut</span>
                            <button class="btn btn-sm btn-outline-secondary ms-2" onclick="removePaymentMethod()">
                                Supprimer
                            </button>
                        </div>
                        
                        <button class="btn btn-outline-primary mt-3" onclick="addPaymentMethod()">
                            <i class="fas fa-plus me-2"></i>Ajouter un Moyen de Paiement
                        </button>
                        
                        <hr class="my-4">
                        
                        <h6 class="mb-3">Historique de Facturation</h6>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Description</th>
                                        <th>Montant</th>
                                        <th>Statut</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>01 Nov 2024</td>
                                        <td>Abonnement Premium - Novembre 2024</td>
                                        <td>199€</td>
                                        <td><span class="badge bg-success">Payé</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary" onclick="downloadInvoice('nov2024')">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>01 Oct 2024</td>
                                        <td>Abonnement Premium - Octobre 2024</td>
                                        <td>199€</td>
                                        <td><span class="badge bg-success">Payé</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary" onclick="downloadInvoice('oct2024')">
                                                <i class="fas fa-download"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Section Préférences -->
            <div class="settings-section" id="section-preferences">
                <div class="settings-card">
                    <div class="settings-header">
                        <h3><i class="fas fa-sliders-h me-2"></i>Préférences Avancées</h3>
                    </div>
                    <div class="settings-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Email par Défaut</label>
                                <input type="email" class="form-control" value="admin@traveladmin.com">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Format Export</label>
                                <select class="form-select">
                                    <option>Excel (.xlsx)</option>
                                    <option>CSV (.csv)</option>
                                    <option>PDF (.pdf)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Éléments par Page</label>
                                <select class="form-select">
                                    <option selected>10</option>
                                    <option>25</option>
                                    <option>50</option>
                                    <option>100</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label fw-bold">Page de Démarrage</label>
                                <select class="form-select">
                                    <option selected>Dashboard</option>
                                    <option>Réservations</option>
                                    <option>Statistiques</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="preference-item">
                            <div class="preference-info">
                                <h6>Sauvegarde Automatique</h6>
                                <p class="text-muted">Enregistrer automatiquement les modifications</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="preference-item">
                            <div class="preference-info">
                                <h6>Mode Compact</h6>
                                <p class="text-muted">Réduire l'espacement de l'interface</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <button class="btn btn-primary mt-3" onclick="savePreferences()">
                            <i class="fas fa-save me-2"></i>Enregistrer
                        </button>
                        
                        <hr class="my-4">
                        
                        <h6 class="mb-3 text-danger">Zone Dangereuse</h6>
                        <button class="btn btn-outline-warning me-2" onclick="resetSettings()">
                            <i class="fas fa-undo me-2"></i>Réinitialiser les Paramètres
                        </button>
                        <button class="btn btn-outline-danger" onclick="deleteAllData()">
                            <i class="fas fa-trash-alt me-2"></i>Supprimer Toutes les Données
                        </button>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <!-- ========== MODALS ========== -->
    
    <!-- Modal Activer 2FA -->
    <div class="modal fade" id="enable2FAModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-shield-alt me-2"></i>Activer l'Authentification à Deux Facteurs</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-3">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=otpauth://totp/TravelAdmin?secret=JBSWY3DPEHPK3PXP" alt="QR Code" class="img-fluid">
                    </div>
                    <p class="text-muted">Scannez ce QR code avec Google Authenticator ou Authy</p>
                    <div class="alert alert-info">
                        <strong>Clé manuelle :</strong> JBSWY3DPEHPK3PXP
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Entrez le code à 6 chiffres</label>
                        <input type="text" class="form-control text-center" maxlength="6" placeholder="000000" id="2faCode">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-success" onclick="confirm2FA()">
                        <i class="fas fa-check me-2"></i>Activer
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Déconnexion -->
    <div class="modal fade" id="logoutModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-sign-out-alt me-2"></i>Confirmer la Déconnexion</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>Êtes-vous sûr de vouloir vous déconnecter ?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-danger" onclick="processLogout()">
                        <i class="fas fa-sign-out-alt me-2"></i>Se Déconnecter
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Supprimer Compte -->
    <div class="modal fade" id="deleteAccountModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title"><i class="fas fa-exclamation-triangle me-2"></i>Supprimer le Compte</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger">
                        <strong>Attention !</strong> Cette action est irréversible. Toutes vos données seront définitivement supprimées.
                    </div>
                    <p>Pour confirmer, veuillez taper <strong>"SUPPRIMER"</strong> ci-dessous :</p>
                    <input type="text" class="form-control" id="deleteConfirmText" placeholder="SUPPRIMER">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDeleteAccount()">
                        <i class="fas fa-trash me-2"></i>Supprimer Définitivement
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Navigation entre sections
        function showSection(sectionId) {
            // Cacher toutes les sections
            document.querySelectorAll('.settings-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Retirer l'active de tous les boutons
            document.querySelectorAll('.settings-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Afficher la section sélectionnée
            document.getElementById('section-' + sectionId).classList.add('active');
            
            // Activer le bouton correspondant
            event.target.closest('.settings-nav-btn').classList.add('active');
        }
        
        // Mon Compte
        function openPhotoUpload() {
            showInfoNotification('Fonctionnalité de téléchargement de photo');
        }
        
        function removePhoto() {
            if (confirm('Supprimer la photo de profil ?')) {
                showSuccessNotification('Photo de profil supprimée');
            }
        }
        
        function saveAccountInfo() {
            showSuccessNotification('Informations personnelles enregistrées avec succès !');
        }
        
        function changePassword() {
            const currentPwd = document.getElementById('currentPassword').value;
            const newPwd = document.getElementById('newPassword').value;
            const confirmPwd = document.getElementById('confirmPassword').value;
            
            if (!currentPwd || !newPwd || !confirmPwd) {
                showErrorNotification('Veuillez remplir tous les champs');
                return;
            }
            
            if (newPwd !== confirmPwd) {
                showErrorNotification('Les mots de passe ne correspondent pas');
                return;
            }
            
            showSuccessNotification('Mot de passe changé avec succès !');
            document.getElementById('passwordForm').reset();
        }
        
        function enable2FA() {
            const modal = new bootstrap.Modal(document.getElementById('enable2FAModal'));
            modal.show();
        }
        
        function confirm2FA() {
            const code = document.getElementById('2faCode').value;
            if (code.length === 6) {
                showSuccessNotification('2FA activé avec succès !');
                bootstrap.Modal.getInstance(document.getElementById('enable2FAModal')).hide();
            } else {
                showErrorNotification('Code invalide');
            }
        }
        
        // Notifications
        function toggleNotification(type) {
            showInfoNotification('Préférence de notification "' + type + '" mise à jour');
        }
        
        function saveNotificationSettings() {
            showSuccessNotification('Préférences de notifications enregistrées !');
        }
        
        // Entreprise
        function uploadLogo() {
            showInfoNotification('Fonctionnalité de téléchargement de logo');
        }
        
        function saveCompanyInfo() {
            showSuccessNotification('Informations de l\'entreprise enregistrées !');
        }
        
        // Système
        function selectTheme(theme) {
            document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('active'));
            event.target.closest('.theme-option').classList.add('active');
            showSuccessNotification('Thème "' + theme + '" appliqué');
        }
        
        function changeLanguage(lang) {
            showSuccessNotification('Langue changée avec succès !');
        }
        
        function saveSystemSettings() {
            showSuccessNotification('Paramètres système enregistrés !');
        }
        
        // Sécurité
        function revokeSession(device) {
            if (confirm('Révoquer cette session ?')) {
                showSuccessNotification('Session révoquée avec succès');
            }
        }
        
        function logoutAllDevices() {
            if (confirm('⚠️ Vous serez déconnecté de tous les appareils, y compris celui-ci. Continuer ?')) {
                showSuccessNotification('Déconnexion de tous les appareils effectuée');
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 2000);
            }
        }
        
        function viewLoginHistory() {
            showInfoNotification('Affichage de l\'historique des connexions');
        }
        
        function exportData() {
            showSuccessNotification('Export de vos données en cours... Vous recevrez un email.');
        }
        
        function deleteAccount() {
            const modal = new bootstrap.Modal(document.getElementById('deleteAccountModal'));
            modal.show();
        }
        
        function confirmDeleteAccount() {
            const confirmText = document.getElementById('deleteConfirmText').value;
            if (confirmText === 'SUPPRIMER') {
                showSuccessNotification('Votre compte sera supprimé dans 14 jours. Vous recevrez un email de confirmation.');
                bootstrap.Modal.getInstance(document.getElementById('deleteAccountModal')).hide();
            } else {
                showErrorNotification('Texte de confirmation incorrect');
            }
        }
        
        // Intégrations
        function disconnectIntegration(service) {
            if (confirm('Déconnecter ' + service + ' ?')) {
                showSuccessNotification(service + ' déconnecté avec succès');
            }
        }
        
        function connectIntegration(service) {
            showInfoNotification('Ouverture de la fenêtre d\'authentification ' + service);
        }
        
        function manageAPIKeys() {
            showInfoNotification('Gestion des clés API');
        }
        
        // Facturation
        function changePlan() {
            showInfoNotification('Redirection vers la page de changement de plan');
        }
        
        function cancelSubscription() {
            if (confirm('⚠️ Êtes-vous sûr de vouloir annuler votre abonnement ?')) {
                showSuccessNotification('Abonnement annulé. Il restera actif jusqu\'à la fin de la période.');
            }
        }
        
        function addPaymentMethod() {
            showInfoNotification('Ajout d\'un nouveau moyen de paiement');
        }
        
        function removePaymentMethod() {
            if (confirm('Supprimer ce moyen de paiement ?')) {
                showSuccessNotification('Moyen de paiement supprimé');
            }
        }
        
        function downloadInvoice(period) {
            showSuccessNotification('Téléchargement de la facture ' + period);
        }
        
        // Préférences
        function savePreferences() {
            showSuccessNotification('Préférences enregistrées !');
        }
        
        function resetSettings() {
            if (confirm('⚠️ Réinitialiser tous les paramètres aux valeurs par défaut ?')) {
                showSuccessNotification('Paramètres réinitialisés');
            }
        }
        
        function deleteAllData() {
            if (confirm('⚠️⚠️ ATTENTION ! Supprimer TOUTES les données ? Cette action est IRRÉVERSIBLE !')) {
                showErrorNotification('Suppression annulée pour votre sécurité. Utilisez plutôt "Supprimer Mon Compte".');
            }
        }
        
        // Déconnexion
        function confirmLogout(event) {
            event.preventDefault();
            const modal = new bootstrap.Modal(document.getElementById('logoutModal'));
            modal.show();
        }
        
        function processLogout() {
            showSuccessNotification('Déconnexion en cours...');
            setTimeout(() => {
                window.location.href = 'login.html';
            }, 1500);
        }
        
        // Notifications Toast
        function showSuccessNotification(message) {
            const toastHTML = `
                <div class="toast align-items-center text-white bg-success border-0" role="alert" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
                    <div class="d-flex">
                        <div class="toast-body">
                            <i class="fas fa-check-circle me-2"></i>${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', toastHTML);
            const toastElement = document.body.lastElementChild;
            const toast = new bootstrap.Toast(toastElement, { delay: 3000 });
            toast.show();
            
            setTimeout(() => toastElement.remove(), 3500);
        }
        
        function showErrorNotification(message) {
            const toastHTML = `
                <div class="toast align-items-center text-white bg-danger border-0" role="alert" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
                    <div class="d-flex">
                        <div class="toast-body">
                            <i class="fas fa-exclamation-triangle me-2"></i>${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', toastHTML);
            const toastElement = document.body.lastElementChild;
            const toast = new bootstrap.Toast(toastElement, { delay: 3000 });
            toast.show();
            
            setTimeout(() => toastElement.remove(), 3500);
        }
        
        function showInfoNotification(message) {
            const toastHTML = `
                <div class="toast align-items-center text-white bg-info border-0" role="alert" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
                    <div class="d-flex">
                        <div class="toast-body">
                            <i class="fas fa-info-circle me-2"></i>${message}
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', toastHTML);
            const toastElement = document.body.lastElementChild;
            const toast = new bootstrap.Toast(toastElement, { delay: 3000 });
            toast.show();
            
            setTimeout(() => toastElement.remove(), 3500);
        }
        
        // Menu Toggle
        document.getElementById('menuToggle').addEventListener('click', function() {
            document.getElementById('sidebar').classList.toggle('active');
        });



        // ===== SYSTÈME DE THÈME CLAIR/SOMBRE =====

// Fonction pour appliquer le thème
function applyTheme(theme) {
    const root = document.documentElement;
    
    if (theme === 'dark') {
        // Mode Sombre
        root.style.setProperty('--bg-primary', '#1a1a2e');
        root.style.setProperty('--bg-secondary', '#16213e');
        root.style.setProperty('--bg-card', '#0f3460');
        root.style.setProperty('--text-primary', '#ffffff');
        root.style.setProperty('--text-secondary', '#b8b8b8');
        root.style.setProperty('--border-color', '#2a2a40');
        root.style.setProperty('--shadow', 'rgba(0, 0, 0, 0.5)');
        
        document.body.classList.add('dark-mode');
        document.body.classList.remove('light-mode');
    } else if (theme === 'light') {
        // Mode Clair
        root.style.setProperty('--bg-primary', '#f8f9fa');
        root.style.setProperty('--bg-secondary', '#ffffff');
        root.style.setProperty('--bg-card', '#ffffff');
        root.style.setProperty('--text-primary', '#1f2937');
        root.style.setProperty('--text-secondary', '#6b7280');
        root.style.setProperty('--border-color', '#e5e7eb');
        root.style.setProperty('--shadow', 'rgba(0, 0, 0, 0.1)');
        
        document.body.classList.add('light-mode');
        document.body.classList.remove('dark-mode');
    } else {
        // Mode Automatique (basé sur les préférences système)
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(prefersDark ? 'dark' : 'light');
    }
    
    // Sauvegarder dans localStorage
    localStorage.setItem('theme', theme);
}

// Fonction modifiée pour sélectionner le thème
function selectTheme(theme) {
    document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('active'));
    event.target.closest('.theme-option').classList.add('active');
    
    applyTheme(theme);
    showSuccessNotification('Thème "' + theme + '" appliqué avec succès !');
}

// Charger le thème au démarrage
document.addEventListener('DOMContentLoaded', function() {
    const savedTheme = localStorage.getItem('theme') || 'light';
    
    // Activer le bon bouton de thème
    const themeButtons = document.querySelectorAll('.theme-option');
    themeButtons.forEach(btn => {
        const btnTheme = btn.getAttribute('onclick').match(/'(.+)'/)[1];
        if (btnTheme === savedTheme) {
            btn.classList.add('active');
        }
    });
    
    // Appliquer le thème
    applyTheme(savedTheme);
});

// Écouter les changements de préférence système pour le mode auto
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'auto') {
        applyTheme('auto');
    }
});
    </script>
    
    <style>

        /* ===== VARIABLES CSS ===== */
:root {
    --bg-primary: #f8f9fa;
    --bg-secondary: #ffffff;
    --bg-card: #ffffff;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --border-color: #e5e7eb;
    --shadow: rgba(0, 0, 0, 0.1);
}

/* ===== MODE SOMBRE ===== */
body.dark-mode {
    background: var(--bg-primary);
    color: var(--text-primary);
}

/* Sidebar en mode sombre */
body.dark-mode .sidebar {
    background: #16213e;
    border-right: 1px solid #2a2a40;
}

body.dark-mode .sidebar .logo {
    color: #ffffff;
}

body.dark-mode .nav-item {
    color: #b8b8b8;
}

body.dark-mode .nav-item:hover {
    background: #0f3460;
    color: #ffffff;
}

body.dark-mode .nav-item.active {
    background: #667eea;
    color: #ffffff;
}

/* Topbar en mode sombre */
body.dark-mode .topbar {
    background: #16213e;
    border-bottom: 1px solid #2a2a40;
}

body.dark-mode .topbar h1 {
    color: #ffffff;
}

body.dark-mode .search-box {
    background: #0f3460;
    border: 1px solid #2a2a40;
}

body.dark-mode .search-box input {
    background: transparent;
    color: #ffffff;
}

body.dark-mode .search-box input::placeholder {
    color: #6b7280;
}

body.dark-mode .notifications,
body.dark-mode .menu-toggle {
    color: #ffffff;
}

body.dark-mode .user-name {
    color: #ffffff;
}

body.dark-mode .user-role {
    color: #b8b8b8;
}

/* Dashboard Content en mode sombre */
body.dark-mode .dashboard-content {
    background: var(--bg-primary);
}

/* Settings Navigation en mode sombre */
body.dark-mode .settings-nav {
    background: #16213e;
    border: 1px solid #2a2a40;
}

body.dark-mode .settings-nav-btn {
    background: #0f3460;
    border-color: #2a2a40;
}

body.dark-mode .settings-nav-btn i,
body.dark-mode .settings-nav-btn span {
    color: #b8b8b8;
}

body.dark-mode .settings-nav-btn:hover {
    background: #1a2942;
    border-color: #667eea;
}

body.dark-mode .settings-nav-btn.active {
    background: #667eea;
    border-color: #667eea;
}

body.dark-mode .settings-nav-btn.active i,
body.dark-mode .settings-nav-btn.active span {
    color: #ffffff;
}

/* Settings Cards en mode sombre */
body.dark-mode .settings-card {
    background: #16213e;
    border: 1px solid #2a2a40;
}

body.dark-mode .settings-header {
    border-bottom: 2px solid #2a2a40;
}

body.dark-mode .settings-header h3 {
    color: #ffffff;
}

body.dark-mode .settings-body {
    color: #b8b8b8;
}

/* Form Controls en mode sombre */
body.dark-mode .form-label {
    color: #ffffff;
}

body.dark-mode .form-control,
body.dark-mode .form-select {
    background: #0f3460;
    border-color: #2a2a40;
    color: #ffffff;
}

body.dark-mode .form-control::placeholder {
    color: #6b7280;
}

body.dark-mode .form-control:focus,
body.dark-mode .form-select:focus {
    background: #0f3460;
    border-color: #667eea;
    color: #ffffff;
}

/* Notification Items en mode sombre */
body.dark-mode .notification-item {
    border-bottom-color: #2a2a40;
}

body.dark-mode .notification-info h6 {
    color: #ffffff;
}

/* Two Factor Status en mode sombre */
body.dark-mode .two-factor-status {
    background: #0f3460;
}

/* Sessions en mode sombre */
body.dark-mode .session-item {
    background: #0f3460;
    border-color: #2a2a40;
}

body.dark-mode .session-item.current {
    background: #1a3a2e;
    border-color: #10b981;
}

body.dark-mode .session-icon {
    background: #1a2942;
}

body.dark-mode .session-info h6 {
    color: #ffffff;
}

/* Integration Items en mode sombre */
body.dark-mode .integration-item {
    background: #0f3460;
    border-color: #2a2a40;
}

body.dark-mode .integration-info h6 {
    color: #ffffff;
}

/* Company Logo Section en mode sombre */
body.dark-mode .logo-preview {
    background: #0f3460;
    border-color: #2a2a40;
}

/* Theme Selector en mode sombre */
body.dark-mode .theme-option {
    background: #0f3460;
    border-color: #2a2a40;
}

body.dark-mode .theme-option:hover {
    background: #1a2942;
}

body.dark-mode .theme-option span {
    color: #b8b8b8;
}

/* Payment Method en mode sombre */
body.dark-mode .payment-method {
    background: #0f3460;
    border-color: #2a2a40;
}

body.dark-mode .payment-info h6 {
    color: #ffffff;
}

/* Table en mode sombre */
body.dark-mode .table {
    color: #b8b8b8;
}

body.dark-mode .table thead th {
    background: #0f3460;
    border-color: #2a2a40;
    color: #ffffff;
}

body.dark-mode .table tbody td {
    border-color: #2a2a40;
}

body.dark-mode .table tbody tr:hover {
    background: #1a2942;
}

/* Modals en mode sombre */
body.dark-mode .modal-content {
    background: #16213e;
    border: 1px solid #2a2a40;
}

body.dark-mode .modal-header {
    border-bottom-color: #2a2a40;
}

body.dark-mode .modal-header .modal-title {
    color: #ffffff;
}

body.dark-mode .modal-body {
    color: #b8b8b8;
}

body.dark-mode .modal-footer {
    border-top-color: #2a2a40;
}

body.dark-mode .btn-close {
    filter: invert(1);
}

/* Alerts en mode sombre */
body.dark-mode .alert-info {
    background: #1e3a5f;
    border-color: #2a4a7a;
    color: #b8d4ff;
}

body.dark-mode .alert-danger {
    background: #3a1e1e;
    border-color: #5a2a2a;
    color: #ffb8b8;
}

/* Badges en mode sombre */
body.dark-mode .badge.bg-success {
    background: #10b981 !important;
}

body.dark-mode .badge.bg-secondary {
    background: #4b5563 !important;
}

/* Preference Items en mode sombre */
body.dark-mode .preference-item {
    border-bottom-color: #2a2a40;
}

body.dark-mode .preference-info h6 {
    color: #ffffff;
}

/* Text utilities en mode sombre */
body.dark-mode .text-muted {
    color: #9ca3af !important;
}

/* Buttons outline en mode sombre */
body.dark-mode .btn-outline-primary {
    color: #667eea;
    border-color: #667eea;
}

body.dark-mode .btn-outline-primary:hover {
    background: #667eea;
    color: #ffffff;
}

body.dark-mode .btn-outline-secondary {
    color: #9ca3af;
    border-color: #4b5563;
}

body.dark-mode .btn-outline-secondary:hover {
    background: #4b5563;
    color: #ffffff;
}

body.dark-mode .btn-outline-danger {
    color: #ef4444;
    border-color: #ef4444;
}

body.dark-mode .btn-outline-danger:hover {
    background: #ef4444;
    color: #ffffff;
}

body.dark-mode .btn-outline-info {
    color: #3b82f6;
    border-color: #3b82f6;
}

body.dark-mode .btn-outline-info:hover {
    background: #3b82f6;
    color: #ffffff;
}

body.dark-mode .btn-outline-warning {
    color: #f59e0b;
    border-color: #f59e0b;
}

body.dark-mode .btn-outline-warning:hover {
    background: #f59e0b;
    color: #ffffff;
}

/* ===== MODE CLAIR (par défaut) ===== */
body.light-mode {
    background: #f8f9fa;
    color: #1f2937;
}

    /* Transition smooth */
    body,
    .sidebar,
    .topbar,
    .settings-card,
    .settings-nav,
    .form-control,
    .form-select,
    .notification-item,
    .session-item,
    .integration-item,
    .theme-option,
    .payment-method,
    .modal-content {
        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    }
        /* Settings Navigation */
        .settings-nav {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .settings-nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            gap: 8px;
        }
        
        .settings-nav-btn i {
            font-size: 24px;
            color: #6b7280;
        }
        
        .settings-nav-btn span {
            font-size: 13px;
            font-weight: 600;
            color: #6b7280;
        }
        
        .settings-nav-btn:hover {
            border-color: #667eea;
            background: #f3f4ff;
        }
        
        .settings-nav-btn.active {
            border-color: #667eea;
            background: #667eea;
        }
        
        .settings-nav-btn.active i,
        .settings-nav-btn.active span {
            color: white;
        }
        
        /* Settings Section */
        .settings-section {
            display: none;
        }
        
        .settings-section.active {
            display: block;
        }
        
        /* Settings Card */
        .settings-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }
        
        .settings-header {
            padding: 20px 25px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .settings-header h3 {
            margin: 0;
            font-size: 20px;
            font-weight: 700;
        }
        
        .settings-body {
            padding: 25px;
        }
        
        /* Profile Photo */
        .profile-photo-section {
            display: flex;
            gap: 25px;
            align-items: center;
        }
        
        .profile-photo-container {
            position: relative;
        }
        
        .profile-photo-container img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 4px solid #f0f0f0;
        }
        
        .btn-change-photo {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            border: 3px solid white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .btn-change-photo:hover {
            background: #5568d3;
            transform: scale(1.1);
        }
        
        /* Two Factor Status */
        .two-factor-status {
            padding: 20px;
            background: #f9fafb;
            border-radius: 12px;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            font-size: 18px;
            font-weight: 600;
        }
        
        /* Notification Item */
        .notification-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .notification-item:last-child {
            border-bottom: none;
        }
        
        .notification-info h6 {
            margin: 0 0 5px 0;
            font-weight: 600;
        }
        
        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #667eea;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        /* Company Logo Section */
        .company-logo-section {
            display: flex;
            gap: 25px;
            align-items: center;
        }
        
        .logo-preview {
            width: 120px;
            height: 120px;
            border: 2px dashed #e5e7eb;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Theme Selector */
        .theme-selector {
            display: flex;
            gap: 15px;
        }
        
        .theme-option {
            flex: 1;
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .theme-option i {
            font-size: 32px;
            color: #6b7280;
            margin-bottom: 10px;
        }
        
        .theme-option:hover {
            border-color: #667eea;
            background: #f3f4ff;
        }
        
        .theme-option.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }
        
        .theme-option.active i {
            color: white;
        }
        
        /* Sessions List */
        .sessions-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .session-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
        }
        
        .session-item.current {
            background: #f0fdf4;
            border-color: #10b981;
        }
        
        .session-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #f9fafb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #667eea;
        }
        
        .session-info {
            flex: 1;
        }
        
        .session-info h6 {
            margin: 0 0 5px 0;
        }
        
        /* Integration Item */
        .integration-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            margin-bottom: 15px;
        }
        
        .integration-logo {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .integration-info {
            flex: 1;
        }
        
        .integration-info h6 {
            margin: 0 0 5px 0;
        }
        
        .integration-status {
            display: flex;
            align-items: center;
        }
        
        /* Current Plan */
        .current-plan {
            padding: 30px;
            background: black;
            color: white;
            border-radius: 12px;
            text-align: center;
        }
        
        .plan-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 20px;
            margin-bottom: 15px;
        }
        
        .plan-price {
            margin: 15px 0;
        }
        
        .plan-price .price {
            font-size: 48px;
            font-weight: 700;
        }
        
        .plan-price .period {
            font-size: 20px;
        }
        
        /* Payment Method */
        .payment-method {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
        }
        
        .payment-icon {
            width: 60px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .payment-info {
            flex: 1;
        }
        
        .payment-info h6 {
            margin: 0 0 5px 0;
        }
        
        /* Preference Item */
        .preference-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .preference-info h6 {
            margin: 0 0 5px 0;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .settings-nav {
                justify-content: center;
            }
            
            .profile-photo-section {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</body>
</html>